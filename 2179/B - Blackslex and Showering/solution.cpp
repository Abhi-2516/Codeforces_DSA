#include <bits/stdc++.h>using namespace std; int main() {    ios::sync_with_stdio(false);    cin.tie(nullptr);     int t;    cin >> t;     while (t--) {        int n;        cin >> n;         vector<int> a(n);        for (int i = 0; i < n; i++) {            cin >> a[i];        }         // Compute total original time        long long total = 0;        for (int i = 0; i < n - 1; i++) {            total += abs(a[i] - a[i + 1]);        }         long long ans = total;         // Case 1: remove first element        ans = min(ans, total - abs(a[0] - a[1]));         // Case 2: remove last element        ans = min(ans, total - abs(a[n - 2] - a[n - 1]));         // Case 3: remove middle element        for (int i = 1; i < n - 1; i++) {            long long cur = total;            cur -= abs(a[i - 1] - a[i]);            cur -= abs(a[i] - a[i + 1]);            cur += abs(a[i - 1] - a[i + 1]);            ans = min(ans, cur);        }         cout << ans << "\n";    }     return 0;}